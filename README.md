# è¶£å‘³ç”Ÿæˆå™¨åˆé›†æ’ä»¶

ä¸€ä¸ªåŸºäºŽ **NoneBot2** çš„è¶£å‘³ç”Ÿæˆå™¨æ’ä»¶ï¼ŒåŒ…å«å¤šç§å¨±ä¹åŠŸèƒ½ï¼Œå¦‚è¥é”€å·ç”Ÿæˆã€ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆã€è®°ä»‡å›¾ç‰‡ç”Ÿæˆç­‰ã€‚


## âœ¨ åŠŸèƒ½åˆ—è¡¨

- ðŸ“¢ **è¥é”€å·ç”Ÿæˆ**ï¼šä¸€é”®ç”Ÿæˆç»å…¸è¥é”€å·é£Žæ ¼æ–‡æ¡ˆ  
- ðŸ“„ **ç‹—å±ä¸é€šæ–‡ç« **ï¼šç”Ÿæˆé€»è¾‘æ··ä¹±ä½†çœ‹èµ·æ¥å¾ˆä¸“ä¸šçš„æ–‡ç«   
- ðŸ˜¡ **è®°ä»‡å›¾ç‰‡ç”Ÿæˆ**ï¼šåˆ¶ä½œä¸ªæ€§åŒ–è®°ä»‡å›¾ç‰‡ï¼ˆè‡ªåŠ¨æ¢è¡Œé˜²æˆªæ–­ï¼‰  
- ðŸ‘¥ **æ— ä¸­ç”Ÿå‹å›¾ç‰‡ç”Ÿæˆ**ï¼šå°†â€œä»–/å¥¹â€æ›¿æ¢ä¸ºâ€œæˆ‘â€å¹¶æ·»åŠ QQå¤´åƒ+æ˜µç§°  
- ðŸ¶ **èˆ”ç‹—æ—¥è®°ç”Ÿæˆ**ï¼šéšæœºç”Ÿæˆæˆ–è‡ªå®šä¹‰èˆ”ç‹—æ—¥è®°ï¼ˆå¤šAPIæºå¤‡ç”¨ï¼‰  
- â“ **ç”Ÿæˆå™¨å¸®åŠ©**ï¼šæŸ¥çœ‹è¯¦ç»†ä½¿ç”¨è¯´æ˜Žï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼‰  


## ðŸš€ å®‰è£…æŒ‡å—

### å‰ç½®è¦æ±‚
- Python 3.8+  
- NoneBot2 æ¡†æž¶ï¼ˆå·²é…ç½®OneBot V11é€‚é…å™¨ï¼‰  


### å®‰è£…æ­¥éª¤
1. å°†æ’ä»¶æ–‡ä»¶å¤¹ï¼ˆå«ä»¥ä¸‹æ–‡ä»¶ï¼‰æ”¾å…¥æœºå™¨äºº `plugins` ç›®å½•ï¼š
è¶£å‘³ç”Ÿæˆå™¨åˆé›†/
â”œâ”€â”€ init.py # æ’ä»¶ä¸»é€»è¾‘
â”œâ”€â”€ data.json # ç‹—å±ä¸é€šæ–‡ç« æ•°æ®æº
â”œâ”€â”€ diary.png # èˆ”ç‹—æ—¥è®°èƒŒæ™¯å›¾
â”œâ”€â”€ jichou.jpg # è®°ä»‡åŠŸèƒ½èƒŒæ™¯å›¾
â”œâ”€â”€ simhei.ttf # é»‘ä½“å­—ä½“ï¼ˆå¿…é¡»ï¼Œç”¨äºŽå›¾ç‰‡æ–‡å­—æ¸²æŸ“ï¼‰
â””â”€â”€ requirements.txt # ä¾èµ–æ¸…å•
2. å®‰è£…ä¾èµ–ï¼ˆåœ¨é¡¹ç›®è™šæ‹ŸçŽ¯å¢ƒä¸­æ‰§è¡Œï¼‰ï¼š
bash
pip install -r requirements.txt
3. é‡å¯NoneBot2æœåŠ¡ï¼Œæ’ä»¶è‡ªåŠ¨åŠ è½½ã€‚


## ðŸ“¦ ä¾èµ–æ¸…å•ï¼ˆrequirements.txtï¼‰
txt
nonebot2
nonebot-adapter-onebot>=2.3.2,<3.0.0 # OneBot V11é€‚é…å™¨
httpx # å¼‚æ­¥HTTPè¯·æ±‚
pillow # å›¾ç‰‡å¤„ç†ï¼ˆPILï¼‰
requests # HTTPè¯·æ±‚ï¼ˆåŒæ­¥ï¼‰
## ðŸŽ® ä½¿ç”¨è¯´æ˜Ž

### 1. è¥é”€å·ç”Ÿæˆ  
**æŒ‡ä»¤**ï¼š`è¥é”€å· A/B/C`ï¼ˆæˆ–åˆ«å `yingxiaohao`ï¼‰  
**ç¤ºä¾‹**ï¼š`è¥é”€å· è”¡å¾å¤/æ‰“ç¯®çƒ/çŽ©å¾—å¥½`  
**æ•ˆæžœ**ï¼šç”Ÿæˆè¥é”€å·é£Žæ ¼æ–‡æ¡ˆï¼Œè‡ªåŠ¨æ‹¼æŽ¥â€œæ˜¯æ€Žä¹ˆå›žäº‹å‘¢â€â€œå°ç¼–å¸¦å¤§å®¶ä¸€èµ·äº†è§£å§â€ç­‰ç»å…¸å¥å¼ã€‚


### 2. ç‹—å±ä¸é€šæ–‡ç«   
**æŒ‡ä»¤**ï¼š`ç‹—å±ä¸é€š ä¸»é¢˜`ï¼ˆæˆ–åˆ«å `goupibutong`/`ç‹—å±ä¸é€šæ–‡ç« `ï¼‰  
**ç¤ºä¾‹**ï¼š`ç‹—å±ä¸é€š é‡å­åŠ›å­¦`  
**æ•ˆæžœ**ï¼šåŸºäºŽ `data.json` ä¸­çš„éšæœºè¯æ±‡ç”Ÿæˆé€»è¾‘æ··ä¹±ä½†ç¯‡å¹…è¶³å¤Ÿçš„â€œä¸“ä¸šæ–‡ç« â€ã€‚


### 3. è®°ä»‡å›¾ç‰‡ç”Ÿæˆ  
**æŒ‡ä»¤**ï¼š`è®°ä»‡ æŸäºº/åšäº†æŸäº‹`ï¼ˆæˆ–åˆ«å `jichou`ï¼Œæ”¯æŒç©ºæ ¼åˆ†éš”ï¼š`è®°ä»‡ æŸäºº åšäº†æŸäº‹`ï¼‰  
**ç¤ºä¾‹**ï¼š`è®°ä»‡ å°æ˜Ž/å·åƒäº†æˆ‘çš„é›¶é£Ÿ`  
**æ•ˆæžœ**ï¼šç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„è®°ä»‡å›¾ç‰‡ï¼Œæ–‡å­—è‡ªåŠ¨æ¢è¡Œï¼ˆé˜²æˆªæ–­ï¼‰ï¼Œåº•å›¾ä¸º `jichou.jpg`ã€‚


### 4. æ— ä¸­ç”Ÿå‹å›¾ç‰‡ç”Ÿæˆ  
**æŒ‡ä»¤**ï¼š`æ— ä¸­ç”Ÿå‹ å†…å®¹æ–‡å­—/QQå·`ï¼ˆæˆ–åˆ«å `æ— ä¸­ç”Ÿæœ‰`/`wuzhongshengyou`ï¼‰  
**ç¤ºä¾‹**ï¼š`æ— ä¸­ç”Ÿå‹ ä»Šå¤©å¤©æ°”çœŸå¥½/123456789`  
**è¯´æ˜Ž**ï¼š  
- è‡ªåŠ¨å°†å†…å®¹ä¸­çš„â€œä»–/å¥¹â€æ›¿æ¢ä¸ºâ€œæˆ‘â€ï¼›  
- é€šè¿‡QQå·è°ƒç”¨APIèŽ·å–å¤´åƒï¼ˆ`http://q1.qlogo.cn/g?b=qq&nk=QQå·&s=100`ï¼‰å’Œæ˜µç§°ï¼ˆ`https://api.usuu.ru/qq/?qq=QQå·`ï¼‰ï¼›  
- ç”ŸæˆåŒ…å«å¤´åƒã€æ˜µç§°å’Œå†…å®¹çš„å›¾ç‰‡ã€‚


### 5. èˆ”ç‹—æ—¥è®°ç”Ÿæˆ  
**æŒ‡ä»¤**ï¼š`èˆ”ç‹—æ—¥è®°`ï¼ˆæˆ–åˆ«å `tiangouriji`ï¼‰ï¼Œæ”¯æŒå‚æ•°æ‰©å±•ï¼š  
| ç”¨æ³•                          | ç¤ºä¾‹                          | æ•ˆæžœ                     |
|-------------------------------|-------------------------------|--------------------------|
| éšæœºç”Ÿæˆ                      | `èˆ”ç‹—æ—¥è®°`                     | éšæœºèŽ·å–ä¸€æ¡èˆ”ç‹—æ—¥è®°     |
| æŒ‡å®šåå­—                      | `èˆ”ç‹—æ—¥è®° å°ç¾Ž`                | å°†æ—¥è®°ä¸­â€œä½ /å¥¹â€æ›¿æ¢ä¸ºâ€œå°ç¾Žâ€ |
| åŠ å¤©æ°”                       | `èˆ”ç‹—æ—¥è®° å°ç¾Ž é˜´å¤©`           | å¼€å¤´æ·»åŠ æ—¥æœŸ+å¤©æ°”        |
| è‡ªå®šä¹‰å†…å®¹                    | `èˆ”ç‹—æ—¥è®° å°ç¾Ž/ä»Šå¤©åˆæ²¡å›žæˆ‘æ¶ˆæ¯` | ä½¿ç”¨è‡ªå®šä¹‰å†…å®¹ï¼ˆå¿½ç•¥APIï¼‰ |

**APIå¤‡ç”¨æº**ï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰ï¼š  
- `https://api.yujn.cn/api/tiangou.php`  
- `https://v2.api-m.com/api/dog`  
- `https://v.api.aa1.cn/api/tiangou`  


### 6. æŸ¥çœ‹å¸®åŠ©  
**æŒ‡ä»¤**ï¼š`ç”Ÿæˆå™¨å¸®åŠ©`ï¼ˆæˆ–åˆ«å `è¶£å‘³ç”Ÿæˆå™¨å¸®åŠ©`/`ç”Ÿæˆå™¨`/`è¶£å‘³ç”Ÿæˆå™¨`ï¼Œéœ€@æœºå™¨äººï¼‰  
**æ•ˆæžœ**ï¼šç”Ÿæˆå›¾æ–‡å¸®åŠ©å¡ç‰‡ï¼ŒåŒ…å«å„åŠŸèƒ½ç”¨æ³•ç¤ºä¾‹å’Œæ³¨æ„äº‹é¡¹ã€‚


## âš ï¸ æ³¨æ„äº‹é¡¹
1. **å­—ä½“ä¾èµ–**ï¼šå¿…é¡»ç¡®ä¿ `simhei.ttf`ï¼ˆé»‘ä½“ï¼‰å­˜åœ¨äºŽæ’ä»¶ç›®å½•ï¼Œå¦åˆ™å›¾ç‰‡ç”Ÿæˆå¤±è´¥ï¼ˆå¯æ›¿æ¢ä¸ºå…¶ä»–ä¸­æ–‡å­—ä½“ï¼Œéœ€ä¿®æ”¹ä»£ç ä¸­ `FONT_PATH` è·¯å¾„ï¼‰ã€‚  
2. **ç½‘ç»œæƒé™**ï¼šæ— ä¸­ç”Ÿå‹ï¼ˆQQå¤´åƒ/æ˜µç§°ï¼‰ã€èˆ”ç‹—æ—¥è®°ï¼ˆAPIè¯·æ±‚ï¼‰éœ€æœºå™¨äººæœåŠ¡å™¨å¯è®¿é—®å¤–ç½‘ã€‚  
3. **å›¾ç‰‡å°ºå¯¸**ï¼šè®°ä»‡å›¾ç‰‡é»˜è®¤å®½åº¦974pxï¼Œé«˜åº¦éšæ–‡å­—è‡ªåŠ¨æ‰©å±•ï¼›æ— ä¸­ç”Ÿå‹å›¾ç‰‡å›ºå®š700Ã—150pxã€‚  


## â“ å¸¸è§é—®é¢˜

**Qï¼šè®°ä»‡å›¾ç‰‡æ–‡å­—è¢«æˆªæ–­äº†ï¼Ÿ**  
Aï¼šå·²ä¿®å¤ï¼å½“å‰ç‰ˆæœ¬é€šè¿‡ `measure()` å‡½æ•°è‡ªåŠ¨è®¡ç®—æ¢è¡Œä½ç½®ï¼Œç¡®ä¿æ–‡å­—å®Œæ•´æ˜¾ç¤ºã€‚

**Qï¼šèˆ”ç‹—æ—¥è®°APIå…¨å¤±æ•ˆæ€Žä¹ˆåŠžï¼Ÿ**  
Aï¼šæ’ä»¶ä¼šè¿”å›žæç¤ºâ€œèˆ”ç‹—æ—¥è®°APIæš‚æ—¶ä¸å¯ç”¨ï¼Œç¨åŽå†è¯•å“¦~â€ï¼Œå¯ç¨åŽé‡è¯•æˆ–æ‰‹åŠ¨è¾“å…¥å†…å®¹ï¼ˆç”¨ `/` åˆ†éš”ï¼‰ã€‚

**Qï¼šå¦‚ä½•è‡ªå®šä¹‰èƒŒæ™¯å›¾ï¼Ÿ**  
Aï¼šæ›¿æ¢ `diary.png`ï¼ˆèˆ”ç‹—æ—¥è®°ï¼‰æˆ– `jichou.jpg`ï¼ˆè®°ä»‡ï¼‰å³å¯ï¼Œæ³¨æ„ä¿æŒåŽŸå›¾æ¯”ä¾‹é¿å…æ‹‰ä¼¸ã€‚


## ðŸ¤ è‡´è°¢
- æ„Ÿè°¢ [api.usuu.ru](https://api.usuu.ru) æä¾›QQæ˜µç§°æŸ¥è¯¢API  
- æ„Ÿè°¢å„èˆ”ç‹—æ—¥è®°APIæä¾›è€…ï¼ˆyujn.cn/api-m.com/aa1.cnï¼‰  
- æ„Ÿè°¢NoneBot2å›¢é˜Ÿæä¾›çš„ä¼˜ç§€æœºå™¨äººæ¡†æž¶  


---
**ä½œè€…**ï¼šOgier  
**ç‰ˆæœ¬**ï¼š1.0.0  
**æ›´æ–°æ—¶é—´**ï¼š2024-05-20  
**ä»“åº“åœ°å€**ï¼š[ï¼ˆå¯åœ¨æ­¤å¤„æ·»åŠ ä½ çš„ä»“åº“é“¾æŽ¥ï¼‰](https://github.com/yourusername/your-repo)